name: backend
type: Backend Service

image:
  build: app/backend/Dockerfile
  port: 8000

cpu: 256
memory: 512
count: 1
exec: true

variables:
  SQL_DATABASE: testdb
  SQL_HOST: db.craftech-app.local
  SQL_USER: user
  SQL_PASSWORD: password
  SQL_PORT: "5432"
  SQL_ENGINE: "django.db.backends.postgresql"

http:
  path: /health      # Ensure your Django app serves this endpoint
  healthy_threshold: 2
  unhealthy_threshold: 2
  timeout: 5s
  interval: 10s
